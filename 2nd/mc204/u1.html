<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Unit 1</title>
  <style>
    body {
      background-color: #222;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
    }
    
    h1 {
      text-align: center;
    }
    
    ul {
      list-style-type: none;
      padding: 0;
    }
    
    li {
      margin-bottom: 10px;
    }
    
    input[type="checkbox"] {
      margin-right: 10px;
    }
    
    .task-description {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
    }
    
    .task-description.open {
      max-height: 1000px;
    }
    
    .stopwatch {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-top: 10px;
      font-size: 18px;
      font-weight: bold;
      text-align: right;
      color: #fff;
    }
    
    .stopwatch span {
      background-color: #555;
      padding: 5px 10px;
      border-radius: 5px;
      margin-left: 10px;
    }
    
    .progress-bar {
      background-color: #555;
      height: 30px;
      border-radius: 15px;
      position: relative;
      overflow: hidden;
    }
    
    .progress-bar-inner {
      height: 100%;
      width: 0;
      transition: width 0.5s ease, background-color 0.5s ease;
    }
    
    .progress-bar-text {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      line-height: 30px;
      font-weight: bold;
    }
    
    .progress-bar-inner:after {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.2) 50%, rgba(255, 255, 255, 0.2) 75%, transparent 75%, transparent);
      background-size: 20px 20px;
      z-index: -1;
      animation: stripes 2s linear infinite;
    }

        /* Slide Out Menu Styles */
        .slide-menu {
      position: fixed;
      top: 0;
      left: -20%;
      height: 100%;
      width: 20%;
      background-color: #333;
      z-index: 999;
      overflow: hidden;
      transition: left 0.3s ease;
    }
    
    .slide-menu.open {
      left: 0;
    }
    
    .slide-menu ul {
      padding: 20px;
    }
    
    .slide-menu li {
      margin-bottom: 10px;
    }
    
    .slide-menu a {
      color: #fff;
      text-decoration: none;
      font-size: 18px;
    }
    
    .toggle-button {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1000;
      color: #fff;
      font-size: 24px;
      cursor: pointer;
    }

    .about-section {
      text-align: center;
    }

    .about-section img {
      width: 150px;
      height: 200px;
      border-radius: 7%;
      margin-bottom: 10px;
    }

    .about-section p {
      margin-bottom: 10px;
    }

    .about-section .social-links {
      display: flex;
      justify-content: center;
    }

    .about-section .social-links a {
      margin: 0 5px;
      color: #fff;
      text-decoration: none;
    }

  </style>
  <script>
    var stopwatches = {};
    var currentTaskId = null;
    
    function toggleDescription(taskId) {
      var taskDescription = document.getElementById(taskId);
      taskDescription.classList.toggle('open');
      
      if (taskDescription.classList.contains('open')) {
        startStopwatch(taskId);
      } else {
        stopStopwatch(taskId);
      }
    }
    
    function startStopwatch(taskId) {
      if (currentTaskId && currentTaskId !== taskId) {
        stopStopwatch(currentTaskId);
      }
      
      currentTaskId = taskId;
      
      var startTime = new Date().getTime();
      stopwatches[taskId] = setInterval(function() {
        updateStopwatch(taskId, startTime);
      }, 100);
    }
    
    function stopStopwatch(taskId) {
      clearInterval(stopwatches[taskId]);
      currentTaskId = null;
    }
    
    function updateStopwatch(taskId, startTime) {
      var currentTime = new Date().getTime();
      var totalTime = currentTime - startTime;
      
      var hours = Math.floor(totalTime / (1000 * 60 * 60));
      var minutes = Math.floor((totalTime % (1000 * 60 * 60)) / (1000 * 60));
      var seconds = Math.floor((totalTime % (1000 * 60)) / 1000);
      
      var stopwatchElement = document.getElementById(taskId + '-stopwatch');
      stopwatchElement.textContent = padZero(hours) + ":" + padZero(minutes) + ":" + padZero(seconds);
    }
    
    function padZero(number) {
      return number < 10 ? "0" + number : number;
    }
  
    
      function updateProgressBar() {
        var checkboxes = document.querySelectorAll('input[type="checkbox"]');
        var checkedCount = 0;
        
        for (var i = 0; i < checkboxes.length; i++) {
          if (checkboxes[i].checked) {
            checkedCount++;
          }
        }
        
        var progressPercentage = (checkedCount / checkboxes.length) * 100;
        var progressBar = document.getElementById('progress-bar-inner');
        var progressBarText = document.getElementById('progress-bar-text');
        progressBar.style.width = progressPercentage + "%";
        progressBar.style.backgroundColor = getColor(progressPercentage);
        progressBarText.textContent = progressPercentage + "%";
  
        // Save checkbox state to localStorage
        var checkboxStates = {};
        for (var i = 0; i < checkboxes.length; i++) {
          checkboxStates[checkboxes[i].id] = checkboxes[i].checked;
        }
        localStorage.setItem('checkboxStates', JSON.stringify(checkboxStates));
      }
      
      function getColor(percentage) {
        var red = Math.floor(255 - (percentage / 100) * 255);
        var green = Math.floor((percentage / 100) * 255);
        return "rgb(" + red + ", " + green + ", 0)";
      }
  
      // Retrieve checkbox state from localStorage and update checkboxes
      function restoreCheckboxStates() {
        var checkboxStates = localStorage.getItem('checkboxStates');
        if (checkboxStates) {
          checkboxStates = JSON.parse(checkboxStates);
          var checkboxes = document.querySelectorAll('input[type="checkbox"]');
          for (var i = 0; i < checkboxes.length; i++) {
            if (checkboxStates[checkboxes[i].id]) {
              checkboxes[i].checked = true;
            }
          }
          updateProgressBar(); // Update progress bar based on restored state
        }
      }
  
      // Call the restoreCheckboxStates function when the page is loaded
      window.addEventListener('load', restoreCheckboxStates);
    </script>
</head>
<body>

    <div id="slide-menu" class="slide-menu">
        <ul><br><br>
          <li><a href="https://chinurag.github.io/m/">Home</a></li>
          <li>
            <a href="https://www.google.com/search?q=chinurag&rlz=1C1CHBF_enIN1056IN1056&oq=chinurag&aqs=chrome.0.69i59j35i39j69i60l6.3944j0j7&sourceid=chrome&ie=UTF-8">About</a><br><br>
            <div class="about-section">
              <img src="https://chinurag.github.io/m/chirag.png" alt="Chirag Sharma">
              <p><a href="https://www.google.com/search?q=chinurag&rlz=1C1CHBF_enIN1056IN1056&oq=chinurag&aqs=chrome.0.69i59j35i39j69i60l6.3944j0j7&sourceid=chrome&ie=UTF-8">Chirag Sharma</a><br><br>
              </p>
              <div class="social-links">
                <a href="https://www.instagram.com/x.chixu/">Instagram</a>
                <a href="https://www.youtube.com/@Rag_Army_">YouTube</a>
              </div>
            </div>
          </li>
        </ul>
      </div>
      
      <div id="toggle-button" class="toggle-button" onclick="toggleMenu()">&#9776;</div>
  
      
  <h1>Unit 1</h1>

  <div class="progress-bar">
    <div id="progress-bar-inner" class="progress-bar-inner"></div>
    <div id="progress-bar-text" class="progress-bar-text"></div>
  </div>

  <ul>
    <li>
      <input type="checkbox" id="task1" onclick="updateProgressBar()" onchange="toggleDescription('task1-description'); startStopwatch('task1')">
      <label for="task1">Task 1</label>
      <div id="task1-description" class="task-description">
        <div class="stopwatch">
          <span id="task1-stopwatch">00:00:00</span>
        </div>
        <p>This is a sample description for Task 1. It can contain more than 1000 words, charts, diagrams, and other elements.</p>
      </div>
    </li>
    <li>
      <input type="checkbox" id="task2" onclick="updateProgressBar()" onchange="toggleDescription('task2-description'); startStopwatch('task2')">
      <label for="task2">Task 2</label>
      <div id="task2-description" class="task-description">
        <div class="stopwatch">
          <span id="task2-stopwatch">00:00:00</span>
        </div>
        <p>This is a sample description for Task 2. It can contain more than 1000 words, charts, diagrams, and other elements.</p>
      </div>
    </li>
    <li>
      <input type="checkbox" id="task3" onclick="updateProgressBar()" onchange="toggleDescription('task3-description'); startStopwatch('task3')">
      <label for="task3">Task 3</label>
      <div id="task3-description" class="task-description">
        <div class="stopwatch">
          <span id="task3-stopwatch">00:00:00</span>
        </div>
        <p>This is a sample description for Task 3. It can contain more than 1000 words, charts, diagrams, and other elements.</p>
      </div>
    </li>
  </ul>

  <script>
    var slideMenu = document.getElementById('slide-menu');
    var toggleButton = document.getElementById('toggle-button');
    
    function toggleMenu() {
      slideMenu.classList.toggle('open');
    }
  </script>

</body>
</html>
